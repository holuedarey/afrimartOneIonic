{"version":3,"sources":["src/app/orders/orders.page.html","src/app/orders/orders.module.ts","src/app/orders/orders.page.scss","src/app/orders/orders.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-header [title]=\\\"title\\\" [longSearch]=\\\"longSearch\\\" [showBackButton]=\\\"showBackButton\\\" [isLoading]=\\\"loading\\\"\\n  [showSearch]=\\\"showSearch\\\">\\n</app-header>\\n<ion-content>\\n  <ion-row>\\n    <ion-col size=\\\"12\\\" class=\\\"note_title_bold12Sec\\\">\\n      <ion-text>MY ORDER HISTORY</ion-text>\\n    </ion-col>\\n  </ion-row>\\n    <div *ngIf=\\\"Prods.length>0\\\">\\n      <section *ngFor=\\\"let prod of Prods; let i=index;\\\">\\n        <ion-grid class=\\\"card\\\" routerLink=\\\"/order-details/{{prod.order}}\\\">\\n          <ion-row>\\n            <ion-col size=\\\"9\\\" class=\\\"note_title_bold12Sec\\\">\\n              <ion-text>{{prod.orderTag}}</ion-text>\\n            </ion-col>\\n            <ion-col size=\\\"3\\\" class=\\\"t_right\\\">\\n              {{prod.statusChangeDate | date : 'mediumDate'}}\\n             </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\" class=\\\"note_title12Black\\\" >\\n              {{prod.unitPrice |currency:'â‚¦':'symbol':'1.2-2'}}\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </section>\\n    </div>\\n   \\n    <div *ngIf=\\\"!Prods\\\">\\n      <ion-grid class=\\\"grid\\\" class=\\\"t_center\\\" style=\\\"padding-top: 50px;\\\">\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-icon size=\\\"large\\\" name=\\\"cart-sharp\\\" color=\\\"primary\\\"></ion-icon>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-text> YOU CURRENTLY HAVE NO ORDERS!</ion-text>\\n          </ion-col>\\n        </ion-row>      \\n      </ion-grid>\\n    </div>\\n\\n\\n  </ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ShellModule } from '../shell/shell.module';\nimport { SharedComponentsModule } from '../sharedComponents/shared-components.module';\n\nimport { OrdersPage } from './orders.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: OrdersPage\n      }\n    ]),\n    ShellModule,\n    SharedComponentsModule\n  ],\n  declarations: [OrdersPage]\n})\nexport class OrdersPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29yZGVycy9vcmRlcnMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { OrderService } from \"src/app/core/http-services/order.service\";\nimport { AuthenticationService } from \"src/app/core/authentication/authentication.service\";\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n// import {\n//   OrderProductsModel,\n// } from \"src/app/shared/models/product.model\";\n\n@Component({\n  selector: 'app-orders',\n  templateUrl: './orders.page.html',\n  styleUrls: ['./orders.page.scss'],\n})\nexport class OrdersPage implements OnInit {\n  ///Inputs\n  title: string = 'My Orders';\n  longSearch: boolean = false;\n  showBackButton: boolean = true;\n  loading: boolean = false;\n  showSearch: boolean = true;\n  ////////////////////\n  // products: OrderProductsModel[];\n  Prods: any[]=[];\n  pageSize: number = 10;\n  currentUser: any;\n\n  constructor(\n    private orderService: OrderService,\n    private nativeStorage: NativeStorage,\n    private authService: AuthenticationService\n  ) { }\n \n  ngOnInit() {\n    this.loading=true;\n    this.nativeStorage.getItem('currentUser').then((x) => {\n      this.currentUser = x;\n      // console.log('currentUser:' + JSON.stringify(this.currentUser));\n      this.getOrders();\n      }\n      );\n  }\n  \n  getOrders() {\n    this.orderService.getOrders(this.currentUser.token).subscribe(\n      (data) => {\n        if (!data.error && data.data.length > 0) {\n          data.data.forEach(order => {\n            let index=this.Prods.findIndex(i=>i.orderTag===order.orderTag);\n            if(index ==-1){\n              this.Prods.push(order);\n            }\n            else{\n              this.Prods[index].unitPrice+=Number(order.unitPrice);\n            }\n            \n          });\n          this.loading=false;\n        }\n      },\n      (err) => {\n        console.error(err);\n        this.loading=false;\n      }\n    );\n  }\n}\n"],"sourceRoot":"webpack:///","file":"orders-orders-module-es5.js"}